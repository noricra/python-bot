from typing import Dict


TEXTS: Dict[str, Dict[str, str]] = {
    'fr': {
        'main_title': "FERUS MARKETPLACE (BETA)",
        'main_subtitle': "La première marketplace crypto pour formations",
        'choose_option': "Choisissez une option pour commencer :",
        'cta_buy': "🛒 Acheter une formation",
        'cta_sell': "📚 Vendre vos formations",
        # 'cta_account': removed to simplify UX
        # 'cta_stats': removed from main menu
        'cta_support': "🆘 Support & aide",
        'cta_home': "🏠 Accueil",
        'seller_space': "🏪 Mon espace vendeur",
        # Buttons (menus)
        'btn_search_product': "🔍 Rechercher par ID produit",
        'btn_browse_categories': "📂 Parcourir catégories",
        'btn_bestsellers': "🔥 Meilleures ventes",
        'btn_new': "🆕 Nouveautés",
        'btn_home': "🏠 Accueil",
        # Support
        'support_title': "Assistance et support",
        'support_sub': "Comment pouvons-nous vous aider ?",
        'btn_faq': "FAQ",
        'btn_create_ticket': "Créer un ticket",
        'btn_my_tickets': "Mes tickets",
        'btn_back': "🔙 Retour",
        'btn_cancel': "❌ Annuler",
        # Admin
        'btn_admin_payouts': "💸 Vendeurs à payer",
        # Buy menu text
        'buy_menu_text': """🛒 **MARKETPLACE DE FORMATIONS**\n\nDécouvrez notre catalogue de formations professionnelles et ressources numériques.\n\n**Comment naviguer :**\n• 🔍 Recherche directe par ID produit\n• 📂 Navigation par catégories\n\n**Paiement sécurisé en crypto** - Livraison instantanée\n\nChoisissez votre méthode de navigation ci-dessous.""",
        # Sell menu text
        'sell_menu_text': """**DEVENEZ FORMATEUR SUR FERUS**\n\nTransformez votre expertise en revenus passifs\n\n**Pourquoi vendre chez nous ?**\n• 0% de commission - Recevez 100% du prix de vente\n• Aucun KYC requis - Plateforme axée sur la confidentialité\n• Paiements crypto instantanés après chaque vente\n• Adresse Solana personnelle - Contrôle total de vos gains\n• Dashboard vendeur complet avec analytics détaillées\n• Marketplace établie avec trafic qualifié\n\n**Formats acceptés :** PDF, ZIP, Vidéos, Documents\n**Déjà 500+ formations vendues** sur la plateforme\n\n**Compte sécurisé** avec récupération par email""",
        # Search
        'search_prompt': """🔍 **RECHERCHE PAR ID PRODUIT**\n\nSaisissez l'ID de la formation que vous souhaitez acheter.\n\n💡 **Format attendu :** `TBF-2501-ABC123`\n\n✍️ **Tapez l'ID produit :**""",
        # Categories
        'categories_title': """📂 **CATÉGORIES DE FORMATIONS**\n\nChoisissez votre domaine d'intérêt :""",
        'no_products_category': "Aucune formation disponible dans cette catégorie pour le moment.\n\nSoyez le premier à publier dans ce domaine !",
        # Product detail labels
        'label_seller': "👤 **Vendeur :**",
        'label_category': "📂 **Catégorie :**",
        'label_price': "💰 **Prix :**",
        'label_description': "📖 **Description :**",
        'label_seller_bio': "🧾 **Bio vendeur :**",
        'stats_title': "📊 **Statistiques :**",
        'label_views': "👁️",
        'label_sales': "🛒",
        # Library
        'already_owned': "✅ **VOUS POSSÉDEZ DÉJÀ CE PRODUIT**\n\nAccédez-y depuis votre bibliothèque.",
        'library_title': "📚 Vos achats:",
        'library_empty': "📚 Votre bibliothèque est vide.",
        # Buttons common
        'btn_download': "📥 Télécharger",
        'btn_contact_seller': "📨 Contacter le vendeur",
        'btn_preview': "👀 Aperçu",
        'btn_buy': "🛒 Acheter",
        'btn_other_products': "📂 Autres produits",
        # Errors/common
        'err_product_not_found': "❌ Produit introuvable.",
        'err_update_status': "❌ Erreur mise à jour statut.",
        'err_delete': "❌ Erreur lors de la suppression.",
        'err_temp': "❌ Erreur temporaire. Retour au menu principal.",
        'err_internal': "❌ Erreur interne.",
        'btn_library': "📚 Ma bibliothèque",
        'err_nowpayments': "❌ Erreur NOWPayments lors de la création du paiement. Réessayez ou choisissez une autre crypto.",
        'err_verify': "❌ Erreur de vérification. Réessayez.",
        'btn_retry': "🔄 Réessayer",
        'btn_search': "🔍 Rechercher",
        'btn_categories': "📂 Catégories",
        'label_file': "📁 **Fichier :**",
        'label_product_title': "📦 **Titre :**",
        # Seller creation/login/settings
        'seller_create_title': "🚀 **CRÉATION COMPTE VENDEUR**",
        'seller_create_intro': "Pour créer votre compte vendeur sécurisé, nous avons besoin de quelques informations.",
        'seller_step1_title': "👤 **Étape 1/4 : Nom public**",
        'seller_step1_prompt': "Saisissez le nom qui apparaîtra sur vos formations :",
        'seller_step2_title': "📝 **Étape 2/4 : Biographie**",
        'seller_step2_prompt': "Décrivez votre expertise :",
        'seller_step3_title': "📧 **Étape 3/4 : Email**",
        'seller_step3_prompt': "Saisissez un email valide :",
        'seller_step4_title': "📍 **Étape 4/4 : Adresse Solana**",
        'seller_step4_prompt': "Saisissez votre adresse Solana pour recevoir vos paiements :",
        'err_invalid_email': "❌ **Email invalide**\n\nFormat attendu : exemple@domaine.com",
        'err_invalid_solana': "❌ **Adresse Solana invalide**\n\nVérifiez le format depuis votre wallet",
        'seller_created_msg': """🎉 **COMPTE VENDEUR CRÉÉ !**\n\n✅ **Nom :** {name}\n✅ **Email :** {email}\n✅ **Adresse :** `{address}`\n\n🔐 **Authentification :** Mot de passe configuré\n\n💰 **Comment ça marche :**\n1. Vos clients paient en crypto\n2. Nous recevons le paiement en Solana\n3. **Vous recevez 100% du prix de vente** sur votre adresse\n4. **0% de commission** - Aucun frais prélevé""",
        'prompt_enter_recovery_email': "🔑 Entrez votre email de récupération :",
        'prompt_enter_password': "✏️ Entrez votre mot de passe vendeur:",

        # Recovery system
        'recovery_email_sent': "✅ Code de récupération envoyé à",
        'recovery_code_prompt': "📱 Entrez le code à 6 chiffres reçu par email :",
        'recovery_new_password_prompt': "🔒 Entrez votre nouveau mot de passe :\n(8 caractères minimum)",
        'recovery_success': "✅ Mot de passe mis à jour avec succès !\n\nVous pouvez maintenant vous connecter avec votre email et nouveau mot de passe.",
        'recovery_session_expired': "❌ Session de récupération expirée",
        'recovery_invalid_email': "❌ Format email invalide",
        'recovery_no_account': "❌ Aucun compte associé à cet email",
        'recovery_account_suspended': "❌ Ce compte est suspendu. Contactez le support.",
        'recovery_invalid_code': "❌ Code invalide",
        'recovery_code_expired': "❌ Code expiré",
        'recovery_code_incorrect': "❌ Code incorrect",
        'recovery_password_too_short': "❌ Mot de passe trop court (8+ caractères)",
        'prompt_new_seller_name': "Entrez le nouveau nom vendeur:",
        'prompt_new_seller_bio': "Entrez la nouvelle biographie:",
        'prompt_new_title': "Entrez le nouveau titre:",
        'prompt_new_price': "Entrez le nouveau prix (EUR):",
        'name_updated': "✅ Nom mis à jour.",
        'bio_updated': "✅ Biographie mise à jour.",
        'price_invalid': "❌ **Prix invalide**\n\nSaisissez un nombre entre 1 et 5000.\n*Exemples : 29.99 ou 150*",
        'login_title': "🔐 **CONNEXION VENDEUR**\n\nSaisissez d'abord votre email, puis votre mot de passe.\n\nSi vous n'avez pas de compte vendeur, créez-en un d'abord.",
        'login_subtitle_simple': "🔑 Connexion vendeur\n\nConnectez-vous avec votre email et votre mot de passe.",
        'btn_email': "✉️ Email",
        'btn_create_seller': "🚀 Créer un compte",
        'btn_seller_login': "🔐 Espace vendeur",
        'btn_seller_info': "📋 Conditions & avantages",
        'btn_dashboard': "🏪 Mon dashboard",
        # Seller dashboard
        'dashboard_title': "🏪 **DASHBOARD VENDEUR**",
        'welcome_user': "👋 Bienvenue {name} !",
        'seller_stats_products_active': "• 📦 Produits actifs : {count}",
        'seller_stats_month_sales': "• 🛒 Ventes ce mois : {count}",
        'seller_stats_month_revenue': "• 💰 Revenus ce mois : {amount}€",
        'seller_stats_rating': "• ⭐ Note moyenne : {rating}/5",
        'wallet_configured': "✅ Configurée",
        'wallet_to_configure': "❌ À configurer",
        'dashboard_welcome': "🏪 **Bienvenue {name} !**\n\n📊 **Votre tableau de bord :**\n• 📦 Produits : {products_count}\n• 💰 Revenus : {revenue}",
        'btn_add_product': "➕ Ajouter un produit",
        'btn_my_products': "📦 Mes produits",
        'btn_my_wallet': "💸 Payouts / Adresse",
        'btn_seller_analytics': "📊 Analytics détaillées",
        'btn_seller_settings': "⚙️ Paramètres",
        'btn_logout': "🚪 Se déconnecter",
        'btn_delete_account': "🗑️ Supprimer le compte",
        # Errors
        'err_unauthorized': "❌ Accès non autorisé.",
        'err_login_required': "❌ Connectez-vous d'abord (email + mot de passe)",
        # Upload/product creation
        'upload_in_progress': "📤 **Upload en cours...**",
        'product_created_title': "🎉 **FORMATION CRÉÉE AVEC SUCCÈS !**",
        'product_created_id': "✅ **ID Produit :** {id}",
        'product_created_name': "📦 **Titre :** {title}",
        'product_created_price': "💰 **Prix :** {price}€",
        'product_created_category': "📂 **Catégorie :** {category}",
        'product_created_file': "📁 **Fichier :** {filename}",
        'product_created_ready': "🚀 **Votre formation est maintenant en vente !**",
        'product_created_hint': "🔗 **Lien direct :** Les clients peuvent la trouver avec l'ID `{id}`",

        # Admin interface
        'admin_products': "📦 Produits",
        'admin_payouts': "💰 Payouts",
        'admin_stats': "📊 Stats",
        'admin_search_user': "🔍 Recherche User",
        'admin_search_product': "🔍 Recherche Produit",
        'admin_products_title': "📦 **PRODUITS** (20 derniers)",
        'admin_payouts_title': "💰 **PAYOUTS PENDING**",
        'admin_mark_all_paid': "✅ Mark All Paid",
        'admin_search_user_prompt': "🔍 **Recherche Utilisateur**\n\nEntrez l'ID utilisateur ou code partenaire :",
        'admin_search_product_prompt': "🔍 **Recherche Produit**\n\nEntrez l'ID produit :",
        'admin_suspend_product_prompt': "❌ **Suspendre Produit**\n\nEntrez l'ID produit à suspendre :",
        'admin_payouts_marked': "✅ {count} payouts marqués comme payés",
        'admin_user_found': "👤 **User Found**\n\nID: {user_id}\nName: {first_name}\nSeller: {is_seller}",
        'admin_user_not_found': "❌ Utilisateur non trouvé",
        'admin_product_found': "📦 **Product Found**\n\nID: {product_id}\nTitle: {title}\nStatus: {status}",
        'admin_product_not_found': "❌ Produit non trouvé",
        'admin_product_suspended': "✅ Produit suspendu",
        'admin_suspend_error': "❌ Erreur suspension",
        'admin_commission_not_implemented': "⚠️ Commission handler not implemented",
        'admin_export_not_implemented': "⚠️ Export products not implemented",
        'admin_access_denied': "❌ Accès refusé",

        # Seller interface
        'seller_password_prompt': "✏️ Entrez votre mot de passe vendeur:",
        'seller_logout_success': "✅ **Déconnexion réussie**\n\nÀ bientôt !",
        'seller_delete_warning': "⚠️ **ATTENTION**\n\nVoulez-vous vraiment supprimer votre compte vendeur ?\n\n❌ Cette action est **irréversible**",
        'seller_delete_confirm': "✅ Confirmer suppression",
        'seller_delete_success': "✅ **Compte vendeur supprimé**\n\nVos données ont été effacées.",
        'seller_delete_error': "❌ Erreur lors de la suppression",
        'seller_name_error': "❌ Le nom doit contenir entre 2 et 50 caractères.",
        'seller_name_saved': "✅ **Nom :** {name}\n\nÉtape 2: Entrez votre biographie (max 500 caractères)",
        'seller_bio_saved': "✅ **Bio sauvegardée**\n\nÉtape 3: Entrez votre email de récupération",
        'seller_email_saved': "✅ **Email sauvegardé**\n\nÉtape 4: Créez un mot de passe sécurisé (min 8 caractères)",
        'seller_password_error': "❌ Le mot de passe doit contenir au moins 8 caractères",
        'seller_password_saved': "✅ **Mot de passe sauvegardé**\n\nÉtape 5: Entrez votre adresse Solana pour les payouts",
        'seller_solana_error': "❌ Adresse Solana invalide",
        'seller_account_created': "✅ **Compte vendeur créé !**\n\nBienvenue dans votre espace vendeur.",
        'seller_account_error': "❌ Erreur création compte: {error}",
        'seller_login_success': "✅ **Connexion réussie !**\n\nBienvenue dans votre espace vendeur.",
        'seller_not_seller_yet': "❌ **Vous n'êtes pas encore vendeur**\n\nCréez votre compte en quelques étapes.",
        'seller_product_title_error': "❌ Le titre doit contenir entre 5 et 100 caractères.",
        'seller_product_title_saved': "✅ **Titre :** {title}\n\nÉtape 2: Description du produit",
        'seller_product_description_saved': "✅ **Description sauvegardée**\n\nÉtape 3: Prix en EUR (ex: 29.99)",
        'seller_product_price_saved': "✅ **Prix :** {price}€\n\nÉtape 4: Envoyez maintenant votre fichier",
        'seller_product_price_error': "❌ Prix invalide. Entrez un nombre entre 1 et 5000.",
        'seller_name_updated': "✅ Nom mis à jour.",
        'seller_name_update_error': "❌ Erreur mise à jour nom.",
        'seller_bio_updated': "✅ Biographie mise à jour.",
        'seller_bio_update_error': "❌ Erreur mise à jour bio.",

        # Bot commands and messages
        'bot_commands_start': "Ouvrir le menu principal",
        'bot_commands_help': "Aide et FAQ",
        'bot_commands_support': "Support & aide",
        'bot_access_denied': "❌ Accès refusé",

        # Missing admin keys
        'admin_users': "👥 Utilisateurs",
        'admin_users_title': "👥 **UTILISATEURS** (20 derniers)",
        'admin_export_users': "📤 Export Users",
        'admin_export_payouts': "📤 Export Payouts",
        'admin_menu_back': "🔙 Admin Menu",
        'admin_error': "❌ Erreur: {error}",
        'admin_cancel': "❌ Annuler",
        'admin_back': "🔙 Retour",
        'admin_user_found_details': "👤 **User Found**\n\nID: {user_id}\nName: {first_name}\nSeller: {is_seller}",
        'admin_product_found_details': "📦 **Product Found**\n\nID: {product_id}\nTitle: {title}\nStatus: {status}",
        'status_active': "✅",
        'status_inactive': "❌",

        # Missing keys identified by analysis
        'welcome': "🎓 FERUS MARKETPLACE\n\nMarketplace crypto pour produits numériques\nFormations • eBooks • Templates • Guides\nPaiement crypto uniquement. 0% commission.\n\n────────────────\n\n🛒 ACHETER\nParcourez le catalogue ou entrez un ID produit\nFormat : TBF-12345678\n\n💼 VENDRE\nUploadez vos produits et recevez 100% du prix\nPaiements directs en crypto, aucune commission\n\n📚 BIBLIOTHÈQUE\nTous vos achats et téléchargements en un clic\n\n────────────────\n\n💡 Astuce : Vous avez un ID produit ?\nEntrez-le directement (ex: TBF-87654321)\n\n🔒 Cryptos acceptées : BTC • ETH • SOL • USDC • USDT",
        'buy_menu': "🛒 Acheter",
        'sell_menu': "📚 Vendre",
        'seller_dashboard': "🏪 Dashboard",
        'support': "🆘 Support",
        'analytics_title': "📊 Analytics vendeur",
        'bot_faq_title': "❓ FAQ - Questions fréquentes",
        'btn_edit_bio': "✏️ Modifier bio",
        'btn_edit_name': "✏️ Modifier nom",
        'btn_payout_history': "📊 Historique payouts",
        'my_products_title': "📦 Mes produits",
        'no_products_msg': "Aucun produit trouvé.",
        'product_add_title': "➕ Ajouter un produit",
        'product_step1_prompt': "📦 Étape 1: Titre du produit",
        'settings_title': "⚙️ Paramètres vendeur",
        'ui_create_ticket_button': "📝 Créer un ticket",
        'wallet_title': "💰 Portefeuille / Payouts",

        # Error messages - commonly used
        'err_product_not_found': "❌ Produit non trouvé ou non autorisé.",
        'err_unauthorized_access': "❌ Accès non autorisé.",
        'err_edit_error': "❌ Erreur lors de l'édition.",
        'err_update_error': "❌ Erreur lors de la mise à jour.",
        'err_calculation_error': "❌ Erreur lors du calcul des commissions.",
        'err_export_error': "❌ Erreur lors de l'export des produits.",
        'err_library_loading': "❌ Erreur chargement bibliothèque.",
        'err_product_not_purchased': "❌ Produit non acheté ou introuvable.",
        'err_file_not_found': "❌ Fichier introuvable.",
        'err_download_error': "❌ Erreur lors du téléchargement.",
        'err_purchase_error': "❌ Erreur lors de l'achat.",
        'err_invalid_price': "❌ Prix invalide (1-5000€).",
        'err_price_update_error': "❌ Prix invalide (1-5000€) ou erreur mise à jour.",
        'err_temp': "⚠️ **Erreur temporaire**\n\nNos serveurs sont momentanément surchargés.\n\n🔄 **Veuillez réessayer dans quelques instants.**\n\n💬 Si le problème persiste, contactez notre support 24/7.",

        # Success messages
        'success_price_updated': "✅ Prix mis à jour avec succès !",
        'success_product_activated': "✅ Produit activé avec succès.",
        'success_product_deactivated': "✅ Produit désactivé avec succès.",

        # Common button texts
        'btn_cancel_action': "❌ Annuler",
        'btn_back_action': "🔙 Retour",
        'btn_return': "🔙 Retour",
        'btn_back_dashboard': "🏪 Retour dashboard",

        # Success messages
        'success_title_updated': "✅ Titre mis à jour avec succès !",
        'err_title_update_error': "❌ Titre invalide (minimum 3 caractères) ou erreur mise à jour.",

        # Product creation steps
        'product_category_step': "✅ **Description sauvegardée**\n\nÉtape 3: Choisissez une catégorie",

        # Payment system
        'payment_title': "Paiement",
        'crypto_selection_text': "Choisissez votre crypto-monnaie pour le paiement :",
        'payment_created': "Paiement créé",
        'payment_address': "Adresse de paiement",
        'btn_refresh_status': "Actualiser statut",
        'btn_preview': "Aperçu",
        'err_payment_creation': "💳 **Erreur de paiement**\n\n⚠️ Impossible de créer votre transaction crypto.\n\n🔧 **Solutions possibles :**\n• Vérifiez votre connexion internet\n• Réessayez avec une autre crypto\n• Contactez le support si le problème persiste\n\n💬 **Support disponible 24/7**",
        'err_purchase_error': "❌ Erreur lors de l'achat.",

        # Admin Panel Missing Keys - FR
        'admin_menu_title': "🔧 **ADMINISTRATION**\n\nChoisissez une action:",
        'admin_export_products_csv_btn': "📊 Export Produits CSV",
        'admin_commissions_btn': "💰 Commissions",
        'admin_menu_back_btn': "🔙 Menu Admin",
        'admin_error_generic': "❌ Erreur: {error}",
        'admin_search_user_title': "🔍 **Recherche Utilisateur**\n\nEntrez l'ID utilisateur ou code partenaire:",
        'admin_search_product_title': "🔍 **Recherche Produit**\n\nEntrez l'ID produit:",
        'admin_suspend_product_title': "❌ **Suspendre Produit**\n\nEntrez l'ID produit à suspendre:",
        'admin_payouts_marked_success': "✅ {count} payouts marqués comme payés",
        'admin_user_found_message': "👤 **Utilisateur Trouvé**\n\nID: {user_id}\nNom: {first_name}\nVendeur: {is_seller}",
        'admin_product_found_message': "📦 **Produit Trouvé**\n\nID: {product_id}\nTitre: {title}\nStatut: {status}",
        'admin_commission_stats_title': "💰 **Statistiques Commissions**\n\n",
        'admin_global_summary': "📊 **Résumé Global:**\n",
        'admin_total_sales': "• Ventes totales: {count}\n",
        'admin_total_volume': "• Volume total: {amount}€\n",
        'admin_total_commission': "• Commission totale: {amount}€\n",
        'admin_avg_commission': "• Commission moyenne: {amount}€\n\n",
        'admin_last_6_months': "📈 **Derniers 6 mois:**\n",
        'admin_monthly_stats': "• {month}: {count} ventes, {amount}€\n",
        'admin_no_products_export': "📦 Aucun produit à exporter.",
        'admin_products_export_title': "📊 **Export Produits**\n\n",
        'admin_products_total': "Total: {count} produits\n\n",
        'admin_detailed_stats_btn': "📊 Stats détaillées",
        'admin_csv_export_caption': "📊 Export CSV: {count} produits",
        'admin_csv_success': "✅ Fichier CSV généré avec succès!",
        'admin_csv_error': "❌ Erreur lors de la génération du CSV.",

        # Support System Missing Keys - FR
        'support_escalate_btn': "🚀 Escalader",
        'support_reply_btn': "↩️ Répondre",
        'support_view_btn': "👁️ Voir",
        'support_admin_reply_btn': "↩️ Répondre",
        'support_faq_content': "📋 **FAQ - Questions fréquentes**\n\n• Comment acheter une formation?\n• Comment devenir vendeur?\n• Comment contacter le support?",
        'support_ticket_subject_prompt': "📝 Entrez le sujet de votre ticket:",
        'support_ticket_content_prompt': "Entrez votre message détaillé:",
        'support_no_tickets': "📭 Aucun ticket trouvé.",
        'support_your_tickets': "🎫 Vos tickets:",
        'support_ticket_view_prefix': "👁️ {ticket_id}",
        'support_ticket_thread_prefix': "🧵 Thread ticket `{ticket_id}`:\n\n{thread}",
        'support_write_response': "✍️ Écrivez votre réponse:",
        'support_escalated_success': "🚀 Ticket escaladé au support.",
        'support_escalation_error': "❌ Impossible d'escalader ce ticket.",
        'support_recent_tickets': "🎫 Tickets récents:\n\n",
        'support_no_tickets_admin': "🎫 Aucun ticket.",

        # Buy Process Missing Keys - FR
        'buy_no_categories': "🚧 Aucune catégorie disponible pour le moment.",
        'buy_category_no_products': "🚧 Aucun produit dans la catégorie '{category}' pour le moment.",
        'buy_previous_btn': "⬅️ Précédent",
        'buy_next_btn': "Suivant ➡️",
        'buy_categories_btn': "🔙 Catégories",
        'buy_category_page_info': "📦 **{category}** - {count} produits (page {page}/{total_pages})",
        'buy_error_loading_categories': "❌ Erreur chargement catégories.",
        'buy_error_loading_products': "❌ Erreur chargement produits.",
        'buy_product_not_found_search': "❌ **Produit introuvable:** `{product_id}`\n\nVérifiez l'ID ou cherchez dans les catégories.",
        'buy_browse_categories_btn': "📂 Parcourir catégories",
        'buy_menu_achat_btn': "🔙 Menu achat",
        'buy_product_buy_btn': "💳 Acheter",
        'buy_product_preview_btn': "👀 Aperçu",
        'buy_product_categories_btn': "📂 Catégories",
        'buy_file_label': "📁 **Fichier:** {size} MB",
        'buy_payment_verification': "🔍 Vérification en cours...",
        'buy_order_not_found': "❌ Commande introuvable!",
        'buy_payment_success_title': "🎉 **FÉLICITATIONS!**",
        'buy_payment_confirmed': "✅ **Paiement confirmé** - Commande: {order_id}",
        'buy_payout_created': "✅ Payout vendeur créé automatiquement",
        'buy_payout_pending': "⚠️ Payout vendeur en attente",
        'buy_immediate_access': "📚 **ACCÈS IMMÉDIAT À VOTRE FORMATION**",
        'buy_download_now_btn': "📥 Télécharger maintenant",
        'buy_main_menu_btn': "🏠 Menu principal",
        'buy_payment_in_progress': "⏳ **PAIEMENT EN COURS**\n\n🔍 **Statut:** {status}\n\n💡 Les confirmations peuvent prendre 5-30 min",
        'buy_refresh_btn': "🔄 Rafraîchir",

        # Common Buttons - FR
        'btn_confirm_delete': "✅ Confirmer suppression",
        'btn_dashboard': "🏪 Dashboard",
        'btn_my_products': "📦 Mes produits",
        'btn_wallet': "💰 Wallet",
        'btn_view': "👁️ Voir",
        'btn_escalate': "🚀 Escalader",
    },
    'en': {
        'main_title': "FERUS MARKETPLACE (BETA)",
        'main_subtitle': "The first crypto marketplace for courses",
        'choose_option': "Choose an option to get started:",
        'cta_buy': "🛒 Buy a course",
        'cta_sell': "📚 Sell your courses",
        # 'cta_account': removed to simplify UX
        # 'cta_stats': removed from main menu
        'cta_support': "🆘 Support & help",
        'cta_home': "🏠 Home",
        'seller_space': "🏪 My seller space",
        # Buttons (menus)
        'btn_search_product': "🔍 Search by product ID",
        'btn_browse_categories': "📂 Browse categories",
        'btn_bestsellers': "🔥 Bestsellers",
        'btn_new': "🆕 New",
        'btn_home': "🏠 Home",
        # Support
        'support_title': "Support",
        'support_sub': "How can we help you?",
        'btn_faq': "FAQ",
        'btn_create_ticket': "Create a ticket",
        'btn_my_tickets': "My tickets",
        'btn_back': "🔙 Back",
        'btn_cancel': "❌ Cancel",
        # Admin
        'btn_admin_payouts': "💸 Sellers to pay",
        # Buy menu text
        'buy_menu_text': """🛒 **COURSE MARKETPLACE**\n\nDiscover our catalog of professional courses and digital resources.\n\n**How to navigate:**\n• 🔍 Direct search by product ID\n• 📂 Browse by categories\n\n**Secure crypto payment** - Instant delivery\n\nChoose your navigation method below.""",
        # Sell menu text
        'sell_menu_text': """📚 **SELL YOUR COURSES**\n\n🎯 Showcase your expertise\n\n💰 **Seller benefits:**\n• 💎 **0% commission** - Receive 100% of sale price\n• 🚫 **No KYC required** - Privacy-focused platform\n• ⚡ **Instant crypto payments** after each sale\n• 🔐 **Personal Solana address** - Full control of your earnings\n• 📈 **Complete seller dashboard** with detailed analytics\n• 🎯 **Established marketplace** with qualified traffic\n\n✅ **Accepted formats:** PDF, ZIP, Videos, Documents\n📊 **500+ courses already sold** on the platform\n\n🔑 **Secure account** with email recovery""",
        # Search
        'search_prompt': """🔍 **SEARCH BY PRODUCT ID**\n\nEnter the ID of the course you want to buy.\n\n💡 **Expected format:** `TBF-2501-ABC123`\n\n✍️ **Type the product ID:**""",
        # Categories
        'categories_title': """📂 **COURSE CATEGORIES**\n\nChoose your area of interest:""",
        'no_products_category': "No course available in this category yet.\n\nBe the first to publish here!",
        # Product detail labels
        'label_seller': "👤 **Seller:**",
        'label_category': "📂 **Category:**",
        'label_price': "💰 **Price:**",
        'label_description': "📖 **Description:**",
        'label_seller_bio': "🧾 **Seller bio:**",
        'stats_title': "📊 **Statistics:**",
        'label_views': "👁️",
        'label_sales': "🛒",
        # Library
        'already_owned': "✅ **YOU ALREADY OWN THIS PRODUCT**\n\nOpen it from your library.",
        'library_title': "📚 Your purchases:",
        'library_empty': "📚 Your library is empty.",
        # Buttons common
        'btn_download': "📥 Download",
        'btn_contact_seller': "📨 Contact seller",
        'btn_preview': "👀 Preview",
        'btn_buy': "🛒 Buy",
        'btn_other_products': "📂 Other products",
        # Errors/common
        'err_product_not_found': "❌ Product not found.",
        'err_update_status': "❌ Error updating status.",
        'err_delete': "❌ Error during deletion.",
        'err_temp': "❌ Temporary error. Back to main menu.",
        'err_internal': "❌ Internal error.",
        'btn_library': "📚 My library",
        'err_nowpayments': "❌ NOWPayments error while creating the payment. Try again or choose another crypto.",
        'err_verify': "❌ Verification error. Please try again.",
        'btn_retry': "🔄 Retry",
        'btn_search': "🔍 Search",
        'btn_categories': "📂 Categories",
        'label_file': "📁 **File:**",
        'label_product_title': "📦 **Title:**",
        # Seller creation/login/settings
        'seller_create_title': "🚀 **CREATE SELLER ACCOUNT**",
        'seller_create_intro': "To create your secure seller account, we need a few details.",
        'seller_step1_title': "👤 **Step 1/4: Public name**",
        'seller_step1_prompt': "Enter the name that will appear on your courses:",
        'seller_step2_title': "📝 **Step 2/4: Biography**",
        'seller_step2_prompt': "Describe your expertise:",
        'seller_step3_title': "📧 **Step 3/4: Recovery email**",
        'seller_step3_prompt': "Enter a valid email to recover your account:",
        'seller_step4_title': "📍 **Step 4/4: Solana address**",
        'seller_step4_prompt': "Enter your Solana address to receive payments:",
        'err_invalid_email': "❌ **Invalid email**\n\nExpected format: example@domain.com",
        'err_invalid_solana': "❌ **Invalid Solana address**\n\nCheck the format from your wallet",
        'seller_created_msg': """🎉 **SELLER ACCOUNT CREATED!**\n\n✅ **Name:** {name}\n✅ **Email:** {email}\n✅ **Address:** `{address}`\n\n🔐 **Authentication:** Password configured\n\n💰 **How it works:**\n1. Clients pay in crypto\n2. We receive payment in Solana\n3. **You receive 100% of sale price** to your address\n4. **0% commission** - No fees deducted""",
        'prompt_enter_recovery_email': "🔑 Enter your recovery email:",
        'prompt_enter_password': "✏️ Enter your seller password:",

        # Recovery system
        'recovery_email_sent': "✅ Recovery code sent to",
        'recovery_code_prompt': "📱 Enter the 6-digit code from your email:",
        'recovery_new_password_prompt': "🔒 Enter your new password:\n(Minimum 8 characters)",
        'recovery_success': "✅ Password updated successfully!\n\nYou can now login with your email and new password.",
        'recovery_session_expired': "❌ Recovery session expired",
        'recovery_invalid_email': "❌ Invalid email format",
        'recovery_no_account': "❌ No account found with this email",
        'recovery_account_suspended': "❌ This account is suspended. Contact support.",
        'recovery_invalid_code': "❌ Invalid code",
        'recovery_code_expired': "❌ Code expired",
        'recovery_code_incorrect': "❌ Incorrect code",
        'recovery_password_too_short': "❌ Password too short (8+ characters required)",
        'prompt_new_seller_name': "Enter the new seller name:",
        'prompt_new_seller_bio': "Enter the new biography:",
        'prompt_new_title': "Enter the new title:",
        'prompt_new_price': "Enter the new price (EUR):",
        'name_updated': "✅ Name updated.",
        'bio_updated': "✅ Biography updated.",
        'price_invalid': "❌ **Invalid price**\n\nEnter a number between 1 and 5000.\n*Examples: 29.99 or 150*",
        'login_title': "🔐 **SELLER LOGIN**\n\nEnter your email first, then your password.\n\nIf you don't have a seller account yet, create one first.",
        'login_subtitle_simple': "🔑 Seller login\n\nLog in with your email and password.",
        'btn_email': "✉️ Email",
        'btn_create_seller': "🚀 Create account",
        'btn_seller_login': "🔐 Seller space",
        'btn_seller_info': "📋 Terms & benefits",
        'btn_dashboard': "🏪 My dashboard",
        # Seller dashboard
        'dashboard_title': "🏪 **SELLER DASHBOARD**",
        'welcome_user': "👋 Welcome {name} !",
        'seller_stats_products_active': "• 📦 Active products: {count}",
        'seller_stats_month_sales': "• 🛒 Sales this month: {count}",
        'seller_stats_month_revenue': "• 💰 Revenue this month: {amount}€",
        'seller_stats_rating': "• ⭐ Average rating: {rating}/5",
        'wallet_configured': "✅ Configured",
        'wallet_to_configure': "❌ To configure",
        'dashboard_welcome': "🏪 **Welcome {name}!**\n\n📊 **Your dashboard:**\n• 📦 Products: {products_count}\n• 💰 Revenue: {revenue}",
        'btn_add_product': "➕ Add product",
        'btn_my_products': "📦 My products",
        'btn_my_wallet': "💸 Payouts / Address",
        'btn_seller_analytics': "📊 Analytics",
        'btn_seller_settings': "⚙️ Settings",
        'btn_logout': "🚪 Log out",
        'btn_delete_account': "🗑️ Delete account",
        # Errors
        'err_unauthorized': "❌ Unauthorized.",
        'err_login_required': "❌ Please log in first (email + password)",
        # Upload/product creation
        'upload_in_progress': "📤 **Uploading...**",
        'product_created_title': "🎉 **COURSE CREATED SUCCESSFULLY!**",
        'product_created_id': "✅ **Product ID:** {id}",
        'product_created_name': "📦 **Title:** {title}",
        'product_created_price': "💰 **Price:** {price}€",
        'product_created_category': "📂 **Category:** {category}",
        'product_created_file': "📁 **File:** {filename}",
        'product_created_ready': "🚀 **Your course is now on sale!**",
        'product_created_hint': "🔗 **Direct link:** Customers can find it using ID `{id}`",

        # Admin interface
        'admin_products': "📦 Products",
        'admin_payouts': "💰 Payouts",
        'admin_stats': "📊 Stats",
        'admin_search_user': "🔍 Search User",
        'admin_search_product': "🔍 Search Product",
        'admin_products_title': "📦 **PRODUCTS** (last 20)",
        'admin_payouts_title': "💰 **PAYOUTS PENDING**",
        'admin_mark_all_paid': "✅ Mark All Paid",
        'admin_search_user_prompt': "🔍 **User Search**\n\nEnter user ID:",
        'admin_search_product_prompt': "🔍 **Product Search**\n\nEnter product ID:",
        'admin_suspend_product_prompt': "❌ **Suspend Product**\n\nEnter product ID to suspend:",
        'admin_payouts_marked': "✅ {count} payouts marked as paid",
        'admin_user_found': "👤 **User Found**\n\nID: {user_id}\nName: {first_name}\nSeller: {is_seller}",
        'admin_user_not_found': "❌ User not found",
        'admin_product_found': "📦 **Product Found**\n\nID: {product_id}\nTitle: {title}\nStatus: {status}",
        'admin_product_not_found': "❌ Product not found",
        'admin_product_suspended': "✅ Product suspended",
        'admin_suspend_error': "❌ Suspension error",
        'admin_commission_not_implemented': "⚠️ Commission handler not implemented",
        'admin_export_not_implemented': "⚠️ Export products not implemented",
        'admin_access_denied': "❌ Access denied",

        # Seller interface
        'seller_password_prompt': "✏️ Enter your seller password:",
        'seller_logout_success': "✅ **Logout successful**\n\nSee you soon!",
        'seller_delete_warning': "⚠️ **WARNING**\n\nDo you really want to delete your seller account?\n\n❌ This action is **irreversible**",
        'seller_delete_confirm': "✅ Confirm deletion",
        'seller_delete_success': "✅ **Seller account deleted**\n\nYour data has been erased.",
        'seller_delete_error': "❌ Error during deletion",
        'seller_name_error': "❌ Name must be between 2 and 50 characters.",
        'seller_name_saved': "✅ **Name:** {name}\n\nStep 2: Enter your biography (max 500 characters)",
        'seller_bio_saved': "✅ **Bio saved**\n\nStep 3: Enter your recovery email",
        'seller_email_saved': "✅ **Email saved**\n\nStep 4: Create a secure password (min 8 characters)",
        'seller_password_error': "❌ Password must contain at least 8 characters",
        'seller_password_saved': "✅ **Password saved**\n\nStep 5: Enter your Solana address for payouts",
        'seller_solana_error': "❌ Invalid Solana address",
        'seller_account_created': "✅ **Seller account created!**\n\nWelcome to your seller space.",
        'seller_account_error': "❌ Account creation error: {error}",
        'seller_login_success': "✅ **Login successful!**\n\nWelcome to your seller space.",
        'seller_not_seller_yet': "❌ **You're not a seller yet**\n\nCreate your account in a few steps.",
        'seller_product_title_error': "❌ Title must be between 5 and 100 characters.",
        'seller_product_title_saved': "✅ **Title:** {title}\n\nStep 2: Product description",
        'seller_product_description_saved': "✅ **Description saved**\n\nStep 3: Price in EUR (ex: 29.99)",
        'seller_product_price_saved': "✅ **Price:** {price}€\n\nStep 4: Now send your file",
        'seller_product_price_error': "❌ Invalid price. Enter a number between 1 and 5000.",
        'seller_name_updated': "✅ Name updated.",
        'seller_name_update_error': "❌ Name update error.",
        'seller_bio_updated': "✅ Biography updated.",
        'seller_bio_update_error': "❌ Biography update error.",

        # Bot commands and messages
        'bot_commands_start': "Open main menu",
        'bot_commands_help': "Help and FAQ",
        'bot_commands_support': "Support & help",
        'bot_access_denied': "❌ Access denied",

        # Missing admin keys
        'admin_users': "👥 Users",
        'admin_users_title': "👥 **USERS** (last 20)",
        'admin_export_users': "📤 Export Users",
        'admin_export_payouts': "📤 Export Payouts",
        'admin_menu_back': "🔙 Admin Menu",
        'admin_error': "❌ Error: {error}",
        'admin_cancel': "❌ Cancel",
        'admin_back': "🔙 Back",
        'admin_user_found_details': "👤 **User Found**\n\nID: {user_id}\nName: {first_name}\nSeller: {is_seller}",
        'admin_product_found_details': "📦 **Product Found**\n\nID: {product_id}\nTitle: {title}\nStatus: {status}",
        'status_active': "✅",
        'status_inactive': "❌",

        # Missing keys identified by analysis
        'welcome': "🎓 FERUS MARKETPLACE\n\nCrypto marketplace for digital products\nCourses • eBooks • Templates • Guides\nCrypto payment only. 0% commission.\n\n────────────────\n\n🛒 BUY\nBrowse catalog or enter a product ID\nFormat: TBF-12345678\n\n💼 SELL\nUpload your products and receive 100% of the price\nDirect crypto payments, no commission\n\n📚 LIBRARY\nAll your purchases and downloads in one click\n\n────────────────\n\n💡 Tip: Have a product ID?\nEnter it directly (e.g. TBF-87654321)\n\n🔒 Accepted cryptos: BTC • ETH • SOL • USDC • USDT",
        'buy_menu': "🛒 Buy",
        'sell_menu': "📚 Sell",
        'seller_dashboard': "🏪 Dashboard",
        'support': "🆘 Support",
        'analytics_title': "📊 Seller analytics",
        'bot_faq_title': "❓ FAQ - Frequently asked questions",
        'btn_edit_bio': "✏️ Edit bio",
        'btn_edit_name': "✏️ Edit name",
        'btn_payout_history': "📊 Payout history",
        'my_products_title': "📦 My products",
        'no_products_msg': "No products found.",
        'product_add_title': "➕ Add product",
        'product_step1_prompt': "📦 Step 1: Product title",
        'settings_title': "⚙️ Seller settings",
        'ui_create_ticket_button': "📝 Create ticket",
        'wallet_title': "💰 Wallet / Payouts",

        # Error messages - commonly used
        'err_product_not_found': "❌ Product not found or unauthorized.",
        'err_unauthorized_access': "❌ Unauthorized access.",
        'err_edit_error': "❌ Edit error.",
        'err_update_error': "❌ Update error.",
        'err_calculation_error': "❌ Error calculating commissions.",
        'err_export_error': "❌ Error exporting products.",
        'err_library_loading': "❌ Error loading library.",
        'err_product_not_purchased': "❌ Product not purchased or not found.",
        'err_file_not_found': "❌ File not found.",
        'err_download_error': "❌ Download error.",
        'err_purchase_error': "❌ Purchase error.",
        'err_invalid_price': "❌ Invalid price (€1-5000).",
        'err_price_update_error': "❌ Invalid price or update error.",
        'err_temp': "❌ Temporary error. Please try again.",

        # Success messages
        'success_price_updated': "✅ Price updated successfully!",
        'success_product_activated': "✅ Product activated successfully.",
        'success_product_deactivated': "✅ Product deactivated successfully.",

        # Common button texts
        'btn_cancel_action': "❌ Cancel",
        'btn_back_action': "🔙 Back",
        'btn_return': "🔙 Back",
        'btn_back_dashboard': "🏪 Back to dashboard",

        # Success messages
        'success_title_updated': "✅ Title updated successfully!",
        'err_title_update_error': "❌ Invalid title (minimum 3 characters) or update error.",

        # Product creation steps
        'product_category_step': "✅ **Description saved**\n\nStep 3: Choose a category",

        # Payment system
        'payment_title': "Payment",
        'crypto_selection_text': "Choose your cryptocurrency for payment:",
        'payment_created': "Payment created",
        'payment_address': "Payment address",
        'btn_refresh_status': "Refresh status",
        'btn_preview': "Preview",

        # Admin Panel Missing Keys
        'admin_menu_title': "🔧 **ADMINISTRATION**\n\nChoose an action:",
        'admin_export_products_csv_btn': "📊 Export Products CSV",
        'admin_commissions_btn': "💰 Commissions",
        'admin_menu_back_btn': "🔙 Admin Menu",
        'admin_error_generic': "❌ Error: {error}",
        'admin_search_user_title': "🔍 **User Search**\n\nEnter user ID or partner code:",
        'admin_search_product_title': "🔍 **Product Search**\n\nEnter product ID:",
        'admin_suspend_product_title': "❌ **Suspend Product**\n\nEnter product ID to suspend:",
        'admin_payouts_marked_success': "✅ {count} payouts marked as paid",
        'admin_user_found_message': "👤 **User Found**\n\nID: {user_id}\nName: {first_name}\nSeller: {is_seller}",
        'admin_product_found_message': "📦 **Product Found**\n\nID: {product_id}\nTitle: {title}\nStatus: {status}",
        'admin_commission_stats_title': "💰 **Commission Statistics**\n\n",
        'admin_global_summary': "📊 **Global Summary:**\n",
        'admin_total_sales': "• Total sales: {count}\n",
        'admin_total_volume': "• Total volume: {amount}€\n",
        'admin_total_commission': "• Total commission: {amount}€\n",
        'admin_avg_commission': "• Average commission: {amount}€\n\n",
        'admin_last_6_months': "📈 **Last 6 months:**\n",
        'admin_monthly_stats': "• {month}: {count} sales, {amount}€\n",
        'admin_no_products_export': "📦 No products to export.",
        'admin_products_export_title': "📊 **Products Export**\n\n",
        'admin_products_total': "Total: {count} products\n\n",
        'admin_detailed_stats_btn': "📊 Detailed stats",
        'admin_csv_export_caption': "📊 CSV Export: {count} products",
        'admin_csv_success': "✅ CSV file generated successfully!",
        'admin_csv_error': "❌ Error generating CSV file.",

        # Support System Missing Keys
        'support_escalate_btn': "🚀 Escalate",
        'support_reply_btn': "↩️ Reply",
        'support_view_btn': "👁️ View",
        'support_admin_reply_btn': "↩️ Reply",
        'support_faq_content': "📋 **FAQ - Frequently Asked Questions**\n\n• How to buy a course?\n• How to become a seller?\n• How to contact support?",
        'support_ticket_subject_prompt': "📝 Enter your ticket subject:",
        'support_ticket_content_prompt': "Enter your detailed message:",
        'support_no_tickets': "📭 No tickets found.",
        'support_your_tickets': "🎫 Your tickets:",
        'support_ticket_view_prefix': "👁️ {ticket_id}",
        'support_ticket_thread_prefix': "🧵 Ticket thread `{ticket_id}`:\n\n{thread}",
        'support_write_response': "✍️ Write your response:",
        'support_escalated_success': "🚀 Ticket escalated to support.",
        'support_escalation_error': "❌ Cannot escalate this ticket.",
        'support_recent_tickets': "🎫 Recent tickets:\n\n",
        'support_no_tickets_admin': "🎫 No tickets.",

        # Buy Process Missing Keys
        'buy_no_categories': "🚧 No categories available yet.",
        'buy_category_no_products': "🚧 No products in category '{category}' yet.",
        'buy_previous_btn': "⬅️ Previous",
        'buy_next_btn': "Next ➡️",
        'buy_categories_btn': "🔙 Categories",
        'buy_category_page_info': "📦 **{category}** - {count} products (page {page}/{total_pages})",
        'buy_error_loading_categories': "❌ Error loading categories.",
        'buy_error_loading_products': "❌ Error loading products.",
        'buy_product_not_found_search': "❌ **Product not found:** `{product_id}`\n\nCheck the ID or search in categories.",
        'buy_browse_categories_btn': "📂 Browse categories",
        'buy_menu_achat_btn': "🔙 Buy menu",
        'buy_product_buy_btn': "💳 Buy",
        'buy_product_preview_btn': "👀 Preview",
        'buy_product_categories_btn': "📂 Categories",
        'buy_file_label': "📁 **File:** {size} MB",
        'buy_payment_verification': "🔍 Verification in progress...",
        'buy_order_not_found': "❌ Order not found!",
        'buy_payment_success_title': "🎉 **CONGRATULATIONS!**",
        'buy_payment_confirmed': "✅ **Payment confirmed** - Order: {order_id}",
        'buy_payout_created': "✅ Seller payout created automatically",
        'buy_payout_pending': "⚠️ Seller payout pending",
        'buy_immediate_access': "📚 **IMMEDIATE ACCESS TO YOUR COURSE**",
        'buy_download_now_btn': "📥 Download now",
        'buy_main_menu_btn': "🏠 Main menu",
        'buy_payment_in_progress': "⏳ **PAYMENT IN PROGRESS**\n\n🔍 **Status:** {status}\n\n💡 Confirmations can take 5-30 min",
        'buy_refresh_btn': "🔄 Refresh",

        # Common Buttons
        'btn_confirm_delete': "✅ Confirm deletion",
        'btn_dashboard': "🏪 Dashboard",
        'btn_my_products': "📦 My products",
        'btn_wallet': "💰 Wallet",
        'btn_view': "👁️ View",
        'btn_escalate': "🚀 Escalate",
        'err_payment_creation': "❌ Error creating payment.",
        'err_purchase_error': "❌ Purchase error.",
    },
}


def t(lang: str, key: str) -> str:
    lang_key = lang if lang in TEXTS else 'fr'
    return TEXTS.get(lang_key, TEXTS['fr']).get(key, key)

